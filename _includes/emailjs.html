<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script type="text/javascript">
(function() {
// https://dashboard.emailjs.com/admin/account
emailjs.init({
    publicKey: "ktl5a0Y1Aqo03q9L7",
});
})();
</script>

<script type="text/javascript">

window.onload = function() {
document.getElementById('currentURL').value = window.location.href;
document.getElementById('contact-form').reset();

const messageTextarea = document.getElementById('message');
const submitButton = document.querySelector('input[type="submit"]');

submitButton.disabled = true;

messageTextarea.addEventListener('input', function() {
    if (messageTextarea.value.length > 3) {
    submitButton.disabled = false;
    } else {
    submitButton.disabled = true;
    }
});

document.getElementById('contact-form').addEventListener('submit', function(event) {
    event.preventDefault();

    const submitButton = document.querySelector('input[type="submit"]');
    submitButton.disabled = true;

    document.getElementById('loading-message').style.display = 'block';

    // Send the form data using EmailJS
    emailjs.sendForm('service_re0ilxx', 'template_2xuxa5s', this)
    .then(() => {
        document.getElementById('success-message').style.display = 'block';
        document.getElementById('loading-message').style.display = 'none';
        document.getElementById('contact-form').querySelectorAll('input, textarea').forEach(field => {
        field.disabled = true;
        field.style.backgroundColor = '#f0f0f0';
        field.style.color = '#888888';
        });
    }, (error) => {
        document.getElementById('error-message').style.display = 'block';
        document.getElementById('loading-message').style.display = 'none';
        submitButton.disabled = false;
        document.getElementById('contact-form').querySelectorAll('input, textarea').forEach(field => {
        field.disabled = false;
        field.style.backgroundColor = '';
        field.style.color = '';
        });
    });
});
}
</script>

<style>
    .loader {
    display: inline-block;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 4px solid #ccc;
    border-top-color: #333;
    animation: spin 1s ease-in-out infinite;
    -webkit-animation: spin 1s ease-in-out infinite;
    margin-right: 10px;
    vertical-align: middle;
    }

    @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
    }

    @-webkit-keyframes spin {
    0% { -webkit-transform: rotate(0deg); }
    100% { -webkit-transform: rotate(360deg); }
    }

    .form-group {
    margin-bottom: 20px;
    }

    .form-group label {
    display: inline-block;
    width: 100px;
    font-weight: bold;
    }

    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group textarea {
    /* width: 300px; */
    width: 30%;
    padding: 5px;
    font-size: 16px;
    }

    .form-group textarea {
    height: 200px;
    width: 70%
    }

</style>

<form id="contact-form">
    <input type="hidden" id="currentURL" name="currentURL">

    <div class="form-group">
    <input type="text" name="user_name" placeholder="Name">
    </div>

    <div class="form-group">
    <input type="email" name="user_email" placeholder="anonymous@gmail.com">
    </div>

    <div class="form-group">
    <input type="text" name="user_url" placeholder="https://mywebsite.com">
    </div>

    <div class="form-group">
    <textarea id="message" name="message" placeholder="Your Comment"></textarea>
    </div>

    <input type="submit" value="Submit your comment">
</form>

<div style="height: 10px;"></div>

<div id="loading-message" style="display: none;"><div class="loader"></div>Submitting your Comment...</div>
<div id="success-message" style="display: none;">
    <p> Your Comment is awaiting moderation.  </p>
    <p> Hit reload if you want to Comment again ðŸ˜„ </p>
    </div>
<div id="error-message" style="display: none;">Oops! Something went wrong. Please try again later.</div>